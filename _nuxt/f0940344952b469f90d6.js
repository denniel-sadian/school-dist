(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{197:function(e,t,n){var content=n(220);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(17).default)("9bd13e24",content,!0,{sourceMap:!1})},198:function(e,t,n){var content=n(222);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(17).default)("55ca57e2",content,!0,{sourceMap:!1})},219:function(e,t,n){"use strict";var r=n(197);n.n(r).a},220:function(e,t,n){(t=n(16)(!1)).push([e.i,".cont[data-v-20876e68]{padding:2px 16px;border:1px solid #000;border-radius:4px;margin:30px 0}h3[data-v-20876e68]{font-weight:800}.btn[data-v-20876e68]{display:flex;justify-content:flex-end;border-top:1px solid #9e9e9e;padding-top:2px}.btn button[data-v-20876e68]{width:34px;height:34px;display:flex;justify-content:center;align-items:center;border-radius:100%;margin-left:16px}.w3-button[data-v-20876e68]{width:100%;margin:3px 0}",""]),e.exports=t},221:function(e,t,n){"use strict";var r=n(198);n.n(r).a},222:function(e,t,n){(t=n(16)(!1)).push([e.i,"header[data-v-67f2b96e]{margin-top:53px;padding:64px 0!important;text-align:center}header h1[data-v-67f2b96e]{text-transform:capitalize}.w3-content[data-v-67f2b96e]{max-width:600px}form[data-v-67f2b96e]{padding:16px;border-radius:4px;border:1px solid #000}.w3-button[data-v-67f2b96e]{width:100%}article[data-v-67f2b96e]{margin:20px 0}",""]),e.exports=t},275:function(e,t,n){"use strict";n.r(t);n(10),n(11),n(18);var r=n(2),o={props:{dep:Object,role:String},data:function(){return{editing:!1,updating:!1,deleting:!1,error:!1,errorDelete:!1,hide:!1,name:""}},methods:{edit:function(){this.editing=!0,this.name=this.dep.name},deleteDep:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.deleting=!0,t.next=3,e.$store.dispatch("information/deleteDep",e.dep.url).then((function(){e.hide=!0})).catch((function(){e.errorDelete=!0,setTimeout((function(){e.errorDelete=!1}),1e4)})).finally((function(){e.deleting=!1}));case 3:case"end":return t.stop()}}),t)})))()},update:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.updating=!0,e.error=!1,n={url:e.dep.url,name:e.name},t.next=5,e.$store.dispatch("information/putDep",n).then((function(){e.editing=!1})).catch((function(){e.error=!0,setTimeout((function(){e.error=!1}),1e4)})).finally((function(){e.updating=!1}));case 5:case"end":return t.stop()}}),t)})))()}}},c=(n(219),n(19)),d={components:{Department:Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:!e.hide,expression:"!hide"}],staticClass:"cont",class:{"w3-opacity":e.deleting}},[e.editing?n("form",{on:{submit:function(t){return t.preventDefault(),e.update(t)}}},[n("div",{staticClass:"inpt"},[n("label",[e._v("Department Name:")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",required:"",disabled:e.updating},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),n("hr"),e._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],staticClass:"w3-small w3-text-red w3-center"},[e._v("\n      Please provide a unique department name.\n    ")]),e._v(" "),n("button",{staticClass:"w3-button w3-light-green w3-round w3-small w3",attrs:{type:"submit",disabled:e.updating}},[e.updating?n("span",[n("i",{staticClass:"fas fa-spinner w3-spin"}),e._v(" Updating...")]):n("span",[e._v("Update this Department")])]),e._v(" "),n("button",{staticClass:"w3-pink w3-round w3-button w3-small",attrs:{disabled:e.updating},on:{click:function(t){e.editing=!1}}},[e._v("\n      Cancel\n    ")])]):n("div",{staticClass:"display"},[n("h3",[n("i",{staticClass:"fas fa-school"}),e._v(" "+e._s(e.dep.name))]),e._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:e.errorDelete,expression:"errorDelete"}],staticClass:"w3-center w3-small w3-text-red"},[e._v("\n      You cannot delete this department right now because some objects like\n      grading sheets or sections are in this department.\n    ")]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"admin"===e.role,expression:"role === 'admin'"}],staticClass:"btn"},[n("button",{staticClass:"w3-button w3-round w3-small w3-border w3-border-black",attrs:{disabled:e.deleting},on:{click:e.edit}},[n("i",{staticClass:"fas fa-pencil-alt"})]),e._v(" "),n("button",{staticClass:"w3-button w3-text-red w3-round w3-small w3-border w3-border-red",attrs:{disabled:e.deleting},on:{click:e.deleteDep}},[e.deleting?n("i",{staticClass:"fas fa-spinner w3-spin"}):n("i",{staticClass:"fas fa-trash-alt"})])])])])}),[],!1,null,"20876e68",null).exports},data:function(){return{got:0,creating:!1,error:!1,name:""}},computed:{departments:function(){return this.$store.state.information.departments},role:function(){return this.$store.state.user.user.profile.role}},methods:{createDepartment:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.creating=!0,e.error=!1,n={name:e.name},t.next=5,e.$store.dispatch("information/postDep",n).then((function(){e.name="",e.error=!1})).catch((function(){e.error=!0,setTimeout((function(){e.error=!1}),1e4)})).finally((function(){e.creating=!1}));case 5:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("information/getDepartments").then((function(){return e.got++}));case 2:case"end":return t.stop()}}),t)})))()}},l=(n(221),Object(c.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),e._v(" "),e.got<1?n("div",[e._m(1)]):n("div",[n("article",{directives:[{name:"show",rawName:"v-show",value:"admin"===e.role,expression:"role === 'admin'"}],staticClass:"w3-container"},[n("form",{staticClass:"w3-content",on:{submit:function(t){return t.preventDefault(),e.createDepartment(t)}}},[e._m(2),e._v(" "),n("div",{staticClass:"inpt"},[n("label",[e._v("Department Name:")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",required:"",disabled:e.creating},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),n("hr"),e._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],staticClass:"w3-center w3-text-red w3-small"},[e._v("\n          Please provide a unique name.\n        ")]),e._v(" "),n("button",{staticClass:"w3-button w3-green w3-round",attrs:{type:"submit",disabled:e.creating}},[e.creating?n("span",[n("i",{staticClass:"fas fa-spinner w3-spin"}),e._v(" Adding...")]):n("span",[e._v("Add This Department")])])])]),e._v(" "),n("article",{staticClass:"w3-container"},[n("div",{staticClass:"w3-content"},[0===e.departments.length?n("div",{staticClass:"w3-center"},[n("h4",[e._v("There is no department yet.")])]):n("div",[n("h2",{staticClass:"w3-center"},[e._v("List of Departments")]),e._v(" "),e._l(e.departments,(function(t){return n("Department",{key:t.id,attrs:{dep:t,role:e.role}})}))],2)])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("header",{staticClass:"w3-container"},[t("div",{staticClass:"w3-content w3-padding w3-center"},[t("h1",[this._v("The Departments")]),this._v(" "),t("p",[this._v("\n        Both teachers and admins can view this page, but only the admins can\n        modify the departments. If you are an admin, please refrain from\n        deleting departments, especially if some users (admins or teachers)\n        are using them in this profile.\n      ")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"w3-large w3-text-green w3-center"},[t("i",{staticClass:"fas fa-spinner w3-spin"}),this._v(" Loading...\n    ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",[t("i",{staticClass:"fas fa-plus-circle"}),this._v(" Add a Department")])}],!1,null,"67f2b96e",null));t.default=l.exports}}]);