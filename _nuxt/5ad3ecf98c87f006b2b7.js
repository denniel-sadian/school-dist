(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{204:function(e,t,r){var content=r(236);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(17).default)("398e826e",content,!0,{sourceMap:!1})},205:function(e,t,r){var content=r(238);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(17).default)("29b4b50f",content,!0,{sourceMap:!1})},233:function(e,t,r){"use strict";r(234)("sub",(function(e){return function(){return e(this,"sub","","")}}))},234:function(e,t,r){var n=r(6),o=r(12),c=r(29),l=/"/g,d=function(e,t,r,n){var o=String(c(e)),d="<"+t;return""!==r&&(d+=" "+r+'="'+String(n).replace(l,"&quot;")+'"'),d+">"+o+"</"+t+">"};e.exports=function(e,t){var r={};r[e]=t(d),n(n.P+n.F*o((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",r)}},235:function(e,t,r){"use strict";var n=r(204);r.n(n).a},236:function(e,t,r){(t=r(16)(!1)).push([e.i,".cont[data-v-108615dc]{border:2px solid #9e9e9e;border-radius:4px;padding:8px;margin:16px 0}h3[data-v-108615dc]{font-weight:800;color:#4caf50}th[data-v-108615dc]{font-family:Courier New,Courier,monospace;text-align:left}td[data-v-108615dc]{font-family:Nunito,Verdana;border-left:1px solid #9e9e9e}table[data-v-108615dc]{width:100%}td[data-v-108615dc],th[data-v-108615dc]{vertical-align:baseline;border-top:1px solid #9e9e9e}td[data-v-108615dc]{padding-left:8px}.cont>div[data-v-108615dc]:last-child{padding-top:8px;border-top:1px solid #9e9e9e;display:flex;justify-content:flex-end}a[data-v-108615dc]{text-decoration:none;border-radius:32px;padding:2px 8px}",""]),e.exports=t},237:function(e,t,r){"use strict";var n=r(205);r.n(n).a},238:function(e,t,r){(t=r(16)(!1)).push([e.i,"header[data-v-76080993]{margin-top:53px;padding:64px 0!important;text-align:center}header h1[data-v-76080993]{text-transform:capitalize}.w3-content[data-v-76080993]{max-width:600px}form[data-v-76080993]{padding:16px;border-radius:4px;border:1px solid #000}.w3-button[data-v-76080993]{width:100%}article[data-v-76080993]{margin:20px 0}.filter[data-v-76080993]{padding:8px}",""]),e.exports=t},273:function(e,t,r){"use strict";r.r(t);r(10),r(233),r(18);var n=r(2),o={props:{sheet:Object,username:String},computed:{department(){return this.$store.state.information.departments.filter(e=>e.url===this.sheet.department)[0].name},section(){return this.$store.state.information.sections.filter(e=>e.url===this.sheet.section)[0].name},subject(){return this.$store.state.information.subjects.filter(e=>e.url===this.sheet.subject)[0].name}}},c=(r(235),r(19)),l={components:{Sheet:Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"cont"},[r("h3",[e._v(e._s(e.subject))]),e._v(" "),r("table",[r("tr",[r("th",[e._v("Department:")]),e._v(" "),r("td",[e._v(e._s(e.department))])]),e._v(" "),r("tr",[r("th",[e._v("Section:")]),e._v(" "),r("td",[e._v(e._s(e.section))])]),e._v(" "),r("tr",[r("th",[e._v("Teacher:")]),e._v(" "),e.sheet.teacher.username===e.username?r("td",[e._v("You")]):r("td",[e._v("\n        "+e._s(e.sheet.teacher.first_name)+" "+e._s(e.sheet.teacher.last_name)+"\n      ")])]),e._v(" "),r("tr",[r("th",[e._v("Date:")]),e._v(" "),r("td",[e._v(e._s(new Date(e.sheet.date).toDateString()))])]),e._v(" "),r("tr",[r("th",[e._v("Finished:")]),e._v(" "),r("td",[e.sheet.publish?r("i",{staticClass:"fas fa-check-circle w3-text-green"}):r("i",{staticClass:"fas fa-times-circle w3-text-red"})])])]),e._v(" "),r("div",[r("nuxt-link",{staticClass:"w3-button w3-green",attrs:{id:"view-link",to:"/sheets/"+e.sheet.id}},[r("i",{staticClass:"fas fa-long-arrow-alt-right"}),e._v(" View\n    ")])],1)])}),[],!1,null,"108615dc",null).exports},data:function(){return{got:0,creating:!1,error:!1,dep:"",sec:"",sub:"",depFilter:"",secFilter:"",subFilter:"",ownerFilter:"me"}},computed:{departments:function(){return this.$store.state.information.departments},sections:function(){var e=this,t=this.$store.state.information.sections;return""===this.dep?t:t.filter((function(t){return t.department===e.dep}))},subjects:function(){return this.$store.state.information.subjects},totalSheets:function(){return this.$store.state.grading.sheets.length},sheets:function(){var e=this;return this.$store.state.grading.sheets.filter((function(s){return s.department===e.depFilter})).filter((function(s){return!e.secFilter||s.section===e.secFilter})).filter((function(s){return!e.subFilter||s.subject===e.subFilter})).filter((function(s){return"me"!==e.ownerFilter||s.teacher.username===e.username}))},username:function(){return this.$store.state.user.user.user.username},role:function(){return this.$store.state.user.user.profile.role},newID:function(){return this.$store.state.grading.sheets[0].id}},watch:{departments:function(e){var t=this;this.depFilter=this.departments.filter((function(e){return e.id===t.$store.state.user.user.profile.department}))[0].url}},methods:{createSheet:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.creating=!0,e.error=!1,r={department:e.dep,section:e.sec,subject:e.sub},t.next=5,e.$store.dispatch("grading/createSheet",r).then((function(){e.$router.push("/sheets/".concat(e.newID))})).finally((function(){e.creating=!1}));case 5:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("information/getDepartments").then((function(){return e.got++}));case 2:return t.next=4,e.$store.dispatch("information/getSections").then((function(){return e.got++}));case 4:return t.next=6,e.$store.dispatch("information/getSubjects").then((function(){return e.got++}));case 6:return t.next=8,e.$store.dispatch("grading/retrieveSheets").then((function(){return e.got++}));case 8:case"end":return t.stop()}}),t)})))()}},d=(r(237),Object(c.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._m(0),e._v(" "),e.got<4?r("div",[e._m(1)]):r("div",[r("article",{directives:[{name:"show",rawName:"v-show",value:"teacher"===e.role,expression:"role === 'teacher'"}],staticClass:"w3-container"},[r("form",{staticClass:"w3-content",on:{submit:function(t){return t.preventDefault(),e.createSheet(t)}}},[e._m(2),e._v(" "),r("div",{staticClass:"inpt"},[r("label",[e._v("For Department:")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.dep,expression:"dep"}],attrs:{disabled:e.creating},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.dep=t.target.multiple?r:r[0]}}},e._l(e.departments,(function(t){return r("option",{key:t.id,domProps:{value:t.url}},[e._v(e._s(t.name))])})),0)]),e._v(" "),r("div",{staticClass:"inpt"},[r("label",[e._v("For Section:")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.sec,expression:"sec"}],attrs:{disabled:e.creating},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.sec=t.target.multiple?r:r[0]}}},e._l(e.sections,(function(s){return r("option",{key:s.id,domProps:{value:s.url}},[e._v(e._s(s.name))])})),0)]),e._v(" "),r("div",{staticClass:"inpt"},[r("label",[e._v("For Subject:")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.sub,expression:"sub"}],attrs:{disabled:e.creating},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.sub=t.target.multiple?r:r[0]}}},e._l(e.subjects,(function(s){return r("option",{key:s.id,domProps:{value:s.url}},[e._v(e._s(s.name))])})),0)]),e._v(" "),r("hr"),e._v(" "),r("button",{staticClass:"w3-button w3-green w3-round",attrs:{type:"submit",disabled:e.creating}},[e.creating?r("span",[r("i",{staticClass:"fas fa-spinner w3-spin"}),e._v(" Creating...")]):r("span",[e._v("Create")])])])]),e._v(" "),r("article",{staticClass:"w3-container"},[r("div",{staticClass:"w3-content"},[0===e.totalSheets?r("div",{staticClass:"w3-center"},[r("h4",[e._v("There is no grading sheet yet.")])]):r("div",[r("h2",{staticClass:"w3-center"},[e._v("List of Grading sheets")]),e._v(" "),r("div",{staticClass:"filter w3-border w3-border-gray w3-light-gray w3-round"},[e._m(3),e._v(" "),r("div",{staticClass:"inpt"},[r("label",[e._v("Department:")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.depFilter,expression:"depFilter"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.depFilter=t.target.multiple?r:r[0]}}},e._l(e.departments,(function(t){return r("option",{key:t.url,domProps:{value:t.url}},[e._v(e._s(t.name))])})),0)]),e._v(" "),r("div",{staticClass:"inpt"},[r("label",[e._v("Section:")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.secFilter,expression:"secFilter"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.secFilter=t.target.multiple?r:r[0]}}},e._l(e.sections,(function(s){return r("option",{key:s.url,domProps:{value:s.url}},[e._v(e._s(s.name))])})),0)]),e._v(" "),r("div",{staticClass:"inpt"},[r("label",[e._v("Subject:")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.subFilter,expression:"subFilter"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.subFilter=t.target.multiple?r:r[0]}}},e._l(e.subjects,(function(s){return r("option",{key:s.url,domProps:{value:s.url}},[e._v(e._s(s.name))])})),0)]),e._v(" "),r("div",{staticClass:"inpt"},[r("label",[e._v("Owner:")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.ownerFilter,expression:"ownerFilter"}],attrs:{type:"text"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.ownerFilter=t.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"me"}},[e._v("Me")]),e._v(" "),r("option",{attrs:{value:"any"}},[e._v("Anyone")])])])]),e._v(" "),r("p",{staticClass:"w3-small w3-text-green w3-center"},[e._v("\n            "+e._s(e.sheets.length)+" found with this filter.\n          ")]),e._v(" "),e._l(e.sheets,(function(s){return r("Sheet",{key:s.id,attrs:{sheet:s,username:e.username}})}))],2)])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("header",{staticClass:"w3-container"},[t("div",{staticClass:"w3-content w3-padding w3-center"},[t("h1",[this._v("The Grading Sheets")]),this._v(" "),t("p",[this._v("\n        Both teachers and admins can view this page, but only the teachers can\n        deal with the grading sheets.\n      ")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"w3-large w3-text-green w3-center"},[t("i",{staticClass:"fas fa-spinner w3-spin"}),this._v(" Loading...\n    ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",[t("i",{staticClass:"fas fa-plus-circle"}),this._v(" Create a Grading Sheet")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",[t("i",{staticClass:"fas fa-filter"}),this._v(" Filter The List")])}],!1,null,"76080993",null));t.default=d.exports}}]);