(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{214:function(t,e,r){var content=r(256);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(17).default)("63fd571d",content,!0,{sourceMap:!1})},215:function(t,e,r){var content=r(262);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(17).default)("d18a15e2",content,!0,{sourceMap:!1})},216:function(t,e,r){var content=r(264);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(17).default)("4112591e",content,!0,{sourceMap:!1})},217:function(t,e,r){var content=r(266);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(17).default)("0c258598",content,!0,{sourceMap:!1})},255:function(t,e,r){"use strict";var n=r(214);r.n(n).a},256:function(t,e,r){(e=r(16)(!1)).push([t.i,"h4[data-v-5fe79d4c],td[data-v-5fe79d4c]{font-family:Nunito}.cont[data-v-5fe79d4c]{border:1px solid #9e9e9e;border-radius:4px;padding:8px;margin:16px 0}h4[data-v-5fe79d4c]{margin:0}th[data-v-5fe79d4c]{font-family:Courier New,Courier,monospace;vertical-align:baseline;text-align:left}#btns[data-v-5fe79d4c]{display:flex;justify-content:flex-end}#btns button[data-v-5fe79d4c]{min-width:35px;max-width:35px;min-height:35px;max-height:35px;display:flex;justify-content:center;align-items:center;margin-left:8px;border-radius:32px}form>div[data-v-5fe79d4c]:last-child{display:flex;justify-content:flex-end}form>div:last-child button[data-v-5fe79d4c]{margin-left:8px}#deleting[data-v-5fe79d4c]{display:flex;flex-direction:column;align-items:center;text-align:center}#deleting>*[data-v-5fe79d4c]{width:100%}",""]),t.exports=e},257:function(t,e,r){var n=r(6);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},258:function(t,e,r){"use strict";var n=r(4),o=r(22),c=r(30),l=r(120),d=r(66),f=r(12),v=r(48).f,h=r(67).f,m=r(9).f,w=r(259).trim,_=n.Number,y=_,x=_.prototype,k="Number"==c(r(81)(x)),C="trim"in String.prototype,S=function(t){var e=d(t,!1);if("string"==typeof e&&e.length>2){var r,n,o,c=(e=C?e.trim():w(e,3)).charCodeAt(0);if(43===c||45===c){if(88===(r=e.charCodeAt(2))||120===r)return NaN}else if(48===c){switch(e.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+e}for(var code,l=e.slice(2),i=0,f=l.length;i<f;i++)if((code=l.charCodeAt(i))<48||code>o)return NaN;return parseInt(l,n)}}return+e};if(!_(" 0o1")||!_("0b1")||_("+0x1")){_=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof _&&(k?f((function(){x.valueOf.call(r)})):"Number"!=c(r))?l(new y(S(e)),r,_):S(e)};for(var N,W=r(8)?v(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;W.length>E;E++)o(y,N=W[E])&&!o(_,N)&&m(_,N,h(y,N));_.prototype=x,x.constructor=_,r(13)(n,"Number",_)}},259:function(t,e,r){var n=r(6),o=r(29),c=r(12),l=r(260),d="["+l+"]",f=RegExp("^"+d+d+"*"),v=RegExp(d+d+"*$"),h=function(t,e,r){var o={},d=c((function(){return!!l[t]()||"​"!="​"[t]()})),f=o[t]=d?e(m):l[t];r&&(o[r]=f),n(n.P+n.F*d,"String",o)},m=h.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(f,"")),2&e&&(t=t.replace(v,"")),t};t.exports=h},260:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},261:function(t,e,r){"use strict";var n=r(215);r.n(n).a},262:function(t,e,r){(e=r(16)(!1)).push([t.i,"td[data-v-00078882]{text-align:center;border-width:2px!important}form[data-v-00078882]{display:grid;grid-template-columns:1fr auto auto}input[data-v-00078882]{min-width:84px;width:100%;text-align:center;border-style:none;border-right:1px solid #000}button[data-v-00078882]{max-width:30px;max-height:30px;min-width:30px;min-height:30px;display:flex;justify-content:center;align-items:center}td[data-v-00078882]:hover{outline:10px solid #2196f3;background:#fff!important}.pale-blue[data-v-00078882]{background:#dff}",""]),t.exports=e},263:function(t,e,r){"use strict";var n=r(216);r.n(n).a},264:function(t,e,r){(e=r(16)(!1)).push([t.i,"td[data-v-08480e49],th[data-v-08480e49]{white-space:nowrap;border:1px solid #9e9e9e;text-align:center}tr>td[data-v-08480e49]:first-child{text-align:left}.w3-yellow[data-v-08480e49]{background:#ffeb3b!important;transition:.3s}",""]),t.exports=e},265:function(t,e,r){"use strict";var n=r(217);r.n(n).a},266:function(t,e,r){(e=r(16)(!1)).push([t.i,".loading[data-v-5d3f1e83]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:hsla(0,0%,50.2%,.856)}.loading h1[data-v-5d3f1e83]{font-size:90px}header[data-v-5d3f1e83]{margin-top:53px;padding:64px 16px;text-transform:capitalize}#adding-form[data-v-5d3f1e83]{margin-bottom:8px}#edit-sheet-btn[data-v-5d3f1e83]{display:absolute;position:fixed;bottom:16px;right:16px;border-radius:32px}#editing-modal[data-v-5d3f1e83]{display:absolute;position:fixed;top:0;left:0;width:100%;height:100%;padding:16px;display:flex;justify-content:flex-end;background:rgba(0,0,0,.459)}#editing-modal>div[data-v-5d3f1e83]{max-width:500px;width:100%;height:100%;background:#fff;border:2px solid #9e9e9e;border-radius:8px;display:grid;grid-template-columns:100%;grid-template-rows:1fr auto}#editing-modal>div>.form-inputs h3[data-v-5d3f1e83]{padding:8px}.form-inputs>div[data-v-5d3f1e83]:first-child{border-bottom:1px solid #9e9e9e}.form-inputs[data-v-5d3f1e83]{display:grid;grid-template-columns:100%;grid-template-rows:auto 1fr;overflow-y:auto}.scrolled[data-v-5d3f1e83]{overflow-y:auto;padding:16px 8px}.form-inputs .w3-button[data-v-5d3f1e83]{width:100%}#editing-modal>div .form-bottom-btns[data-v-5d3f1e83]{display:flex;justify-content:flex-end;border-top:1px solid #9e9e9e;padding:8px}#editing-modal>div .form-bottom-btns *[data-v-5d3f1e83]{border-radius:32px}.or[data-v-5d3f1e83]{margin:30px 0}#sheet[data-v-5d3f1e83]{width:100%}#sheet-cont[data-v-5d3f1e83]{overflow-x:auto;margin-bottom:64px}table[data-v-5d3f1e83],th[data-v-5d3f1e83]{border:2px solid #000}",""]),t.exports=e},269:function(t,e,r){"use strict";r.r(e);r(10),r(18);var n=r(2),o=(r(11),{props:{work:Object},data:function(){return{editing:!1,deleting:!1,deletingReally:!1,updating:!1,name:"",type:"",score:0}},watch:{editing:function(t){t&&(this.name=this.work.name,this.type=this.work.work_type,this.score=this.work.highest_score)}},computed:{sheetUrl:function(){return this.$store.state.grading.currentSheet.url},workType:function(){switch(this.work.work_type){case"a":return"Activity";case"q":return"Quiz";case"e":return"Examination";case"p":return"Performace"}}},methods:{deleteWork:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.deletingReally=!0,e.next=3,t.$store.dispatch("grading/deleteWork",t.work.url).finally((function(){return t.deleting=!1}));case 3:case"end":return e.stop()}}),e)})))()},update:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.deleting=!1,t.editing=!0,t.updating=!0,r={url:t.work.url,gsheet:t.sheetUrl,name:t.name,work_type:t.type,highest_score:t.score},e.next=6,t.$store.dispatch("grading/updateWork",r).then((function(){return t.editing=!1})).finally((function(){return t.updating=!1}));case 6:case"end":return e.stop()}}),e)})))()}}}),c=(r(255),r(19)),l=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cont w3-hover-shadow w3-animate-top"},[t.editing||t.deleting?t.deleting&&!t.editing?r("div",{staticClass:"w3-animate-opacity",attrs:{id:"deleting"}},[t.deletingReally?r("div",[t._m(0)]):r("div",{staticClass:"w3-animate-zoom w3-yellow w3-padding"},[t._m(1),t._v(" "),r("div",[r("button",{staticClass:"w3-button w3-red w3-round w3-small",on:{click:t.deleteWork}},[t._v("\n          Yes\n        ")]),t._v(" "),r("button",{staticClass:"w3-button w3-green w3-round w3-small",on:{click:function(e){t.deleting=!1}}},[t._v("\n          No\n        ")])])])]):r("form",{staticClass:"w3-animate-opacity",on:{submit:function(e){return e.preventDefault(),t.update(e)}}},[r("div",{staticClass:"inpt"},[r("label",[t._v("Name:")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{disabled:t.updating,required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),r("div",{staticClass:"inpt"},[r("label",[t._v("Type:")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{disabled:t.updating,required:""},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.type=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"a"}},[t._v("Activity")]),t._v(" "),r("option",{attrs:{value:"q"}},[t._v("Quiz")]),t._v(" "),r("option",{attrs:{value:"e"}},[t._v("Examination")]),t._v(" "),r("option",{attrs:{value:"p"}},[t._v("Performance")])])]),t._v(" "),r("div",{staticClass:"inpt"},[r("label",[t._v("Highest Score:")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.score,expression:"score"}],attrs:{type:"number",disabled:t.updating,required:""},domProps:{value:t.score},on:{input:function(e){e.target.composing||(t.score=e.target.value)}}})]),t._v(" "),r("div",[r("button",{staticClass:"w3-button w3-green w3-round w3-small",attrs:{type:"submit",disabled:t.updating}},[t.updating?r("span",[r("i",{staticClass:"fas fa-spinner w3-spin"}),t._v(" Updating...")]):r("span",[t._v("Update")])]),t._v(" "),r("button",{staticClass:"w3-button w3-pink w3-round w3-small",attrs:{disabled:t.updating},on:{click:function(e){t.editing=!1}}},[t._v("\n        Cancel\n      ")])])]):r("div",{staticClass:"w3-animate-opacity"},[r("h4",{staticClass:"w3-text-blue"},[t._v(t._s(t.work.name))]),t._v(" "),r("table",[r("tr",[r("th",[t._v("Highest Score:")]),t._v(" "),r("td",[t._v(t._s(t.work.highest_score))])]),t._v(" "),r("tr",[r("th",[t._v("Date:")]),t._v(" "),r("td",[t._v(t._s(new Date(t.work.date).toDateString()))])]),t._v(" "),r("tr",[r("th",[t._v("Type:")]),t._v(" "),r("td",[t._v(t._s(t.workType))])])]),t._v(" "),r("div",{attrs:{id:"btns"}},[r("button",{staticClass:"w3-button w3-small w3-light-green",on:{click:function(e){t.editing=!0}}},[r("i",{staticClass:"fas fa-pencil-alt"})]),t._v(" "),r("button",{staticClass:"w3-button w3-small w3-pink",on:{click:function(e){t.deleting=!0}}},[r("i",{staticClass:"fas fa-trash"})])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",[e("i",{staticClass:"fas fa-spinner w3-spin"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",[e("i",{staticClass:"fas fa-exclamation-triangle w3-text-red"}),e("br"),this._v("Are you\n        sure you want to delete this work?\n      ")])}],!1,null,"5fe79d4c",null).exports,d=(r(257),r(258),{props:{record:Object},data:function(){return{editing:!1,updating:!1,score:0}},computed:{max:function(){var t=this;return this.$store.state.grading.currentSheet.works.filter((function(e){return e.url===t.record.work}))[0].highest_score},canBeEdited:function(){return this.$store.state.user.user.user.username===this.$store.state.grading.currentSheet.teacher.username}},watch:{editing:function(t){t&&(this.score=this.record.score)}},methods:{edit:function(){this.canBeEdited&&(this.editing=!0)},update:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.canBeEdited){e.next=2;break}return e.abrupt("return");case 2:return t.updating=!0,r={gsheet:t.$store.state.grading.currentSheet.url,url:t.record.url,student:t.record.student,work:t.record.work,score:t.score},e.next=6,t.$store.dispatch("grading/updateRecord",r).finally((function(){t.updating=!1,t.editing=!1}));case 6:case"end":return e.stop()}}),e)})))()}}}),f=(r(261),{components:{Col:Object(c.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("td",{staticClass:"w3-animate-zoom",class:{"pale-blue":t.record.score>0}},[t.editing&&t.updating?r("div",[r("i",{staticClass:"fas fa-spinner w3-spin"})]):t.editing||t.updating?r("form",{staticClass:"w3-animate-opacity",on:{submit:function(e){return e.preventDefault(),t.update(e)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.score,expression:"score"}],attrs:{type:"number",min:"0",max:t.max,autofocus:"autofocus",required:""},domProps:{value:t.score},on:{input:function(e){e.target.composing||(t.score=e.target.value)}}}),t._v(" "),t._m(0),t._v(" "),r("button",{staticClass:"w3-button w3-pink",on:{click:function(e){t.editing=!1}}},[r("i",{staticClass:"fas fa-times-circle"})])]):r("div",{on:{click:t.edit}},[t._v("\n    "+t._s(t.record.score)+"\n  ")])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"w3-button w3-green",attrs:{type:"submit"}},[e("i",{staticClass:"fas fa-check-circle"})])}],!1,null,"00078882",null).exports},props:{student:Object,topTotalActScore:{type:Number,default:0},topTotalPerfScore:{type:Number,default:0}},data:function(){return{hovered:!1}},computed:{fullName:function(){return"".concat(this.student.last_name," ").concat(this.student.first_name)},records:function(){return this.$store.state.grading.currentSheet.records},allWorks:function(){return this.$store.state.grading.currentSheet.works},myRecords:function(){var t=this;return this.records.filter((function(e){return e.student===t.student.url}))},myActivities:function(){var t=this;return this.myRecords.filter((function(e){var r=t.allWorks.filter((function(t){return t.url===e.work}))[0].work_type;return"a"===r||"q"===r}))},PS1:function(){return this.round(100*this.totalActivitiesScore/this.topTotalActScore)},WS1:function(){return this.round(20*this.PS1/100)},PS2:function(){return this.round(100*this.totalPerformaceScore/this.topTotalPerfScore)},WS2:function(){return this.round(60*this.PS2/100)},PS3:function(){var t=this.allWorks.filter((function(t){return"e"===t.work_type}))[0];if(t&&this.myExam)return this.round(100*this.myExam.score/t.highest_score)},WS3:function(){return this.round(20*this.PS3/100)},initialGrade:function(){return this.round(this.WS1+this.WS2+this.WS3)},quarterlyGrade:function(){var t=this.initialGrade;return 100===t?100:t>=98.4&&t<=99.99?99:t>=96.8&&t<=98.39?98:t>=95.2&&t<=96.79?97:t>=93.6&&t<=95.19?96:t>=92&&t<=93.59?95:t>=90.4&&t<=91.99?94:t>=88.8&&t<=90.39?93:t>=87.2&&t<=88.79?92:t>=85.6&&t<=87.19?91:t>=84&&t<=85.59?90:t>=82.4&&t<=83.99?89:t>=80.8&&t<=82.39?88:t>=79.2&&t<=80.79?87:t>=77.6&&t<=79.19?86:t>=76&&t<=77.59?85:t>=74.4&&t<=75.99?84:t>=72.8&&t<=74.39?83:t>=71.2&&t<=72.79?82:t>=69.6&&t<=71.19?81:t>=68&&t<=69.59?80:t>=66.4&&t<=67.99?79:t>=64.8&&t<=66.39?78:t>=63.2&&t<=64.79?77:t>=61.6&&t<=63.19?76:t>=60&&t<=61.59?75:t>=56&&t<=59.99?74:t>=52&&t<=55.99?73:t>=48&&t<=51.99?72:t>=44&&t<=47.99?71:t>=40&&t<=43.99?70:t>=36&&t<=39.99?69:t>=32&&t<=35.99?68:t>=28&&t<=31.99?67:t>=24&&t<=27.99?66:t>=20&&t<=23.99?65:t>=16&&t<=19.99?64:t>=12&&t<=15.99?63:t>=8&&t<=11.99?62:t>=4&&t<=7.99?61:t>=0&&t<=3.99?60:void 0},qgColor:function(){return this.quarterlyGrade>=60&&this.quarterlyGrade<=74?"w3-pale-red":this.quarterlyGrade>=75&&this.quarterlyGrade<=89?"w3-pale-yellow":this.quarterlyGrade>=90&&this.quarterlyGrade<=100?"w3-light-green":void 0},myPerformances:function(){var t=this;return this.myRecords.filter((function(e){return"p"===t.allWorks.filter((function(t){return t.url===e.work}))[0].work_type}))},totalActivitiesScore:function(){var t=0;return this.myActivities.forEach((function(a){return t+=a.score})),t},totalPerformaceScore:function(){var t=0;return this.myPerformances.forEach((function(p){return t+=p.score})),t},myExam:function(){var t=this;return this.myRecords.filter((function(e){return"e"===t.allWorks.filter((function(t){return t.url===e.work}))[0].work_type}))[0]},sheetURL:function(){return this.$store.state.grading.currentSheet.url},sheetOwner:function(){return this.$store.state.grading.currentSheet.teacher.username},username:function(){return this.$store.state.user.user.user.username}},methods:{round:function(t){return Math.round(100*(t+Number.EPSILON))/100}}}),v=(r(263),{components:{Work:l,Row:Object(c.a)(f,(function(){var t,e=this,r=e.$createElement,n=e._self._c||r;return n("tr",{on:{mouseenter:function(t){e.hovered=!0},mouseleave:function(t){e.hovered=!1}}},[n("td",{staticClass:"w3-animate-zoom",class:{"w3-yellow":e.hovered},attrs:{title:e.fullName}},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.qgColor,expression:"qgColor"}]},["w3-pale-red"!==e.qgColor?n("i",{staticClass:"fas fa-check w3-text-green"}):n("i",{staticClass:"fas fa-times w3-text-red"})]),e._v(" "),n("span",[e._v(e._s(e.fullName))])]),e._v(" "),e._l(e.myActivities,(function(t){return n("Col",{key:t.id,staticClass:"w3-border w3-border-orange",class:{"w3-yellow":e.hovered},attrs:{title:e.fullName,as:"td",record:t}})})),e._v(" "),n("td",{staticClass:"w3-animate-zoom w3-border w3-border-orange",class:{"w3-yellow":e.hovered,"w3-pale-blue":e.totalActivitiesScore>0},attrs:{title:e.fullName}},[e._v("\n    "+e._s(e.totalActivitiesScore)+"\n  ")]),e._v(" "),n("td",{staticClass:"w3-animate-zoom w3-border w3-border-orange",class:{"w3-yellow":e.hovered,"w3-pale-blue":e.PS1>0},attrs:{title:e.fullName}},[e._v("\n    "+e._s(e.PS1)+"\n  ")]),e._v(" "),n("td",{staticClass:"w3-animate-zoom w3-border w3-border-orange",class:{"w3-yellow":e.hovered,"w3-pale-blue":e.WS1>0},attrs:{title:e.fullName}},[e._v("\n    "+e._s(e.WS1)+"\n  ")]),e._v(" "),e._l(e.myPerformances,(function(p){return n("Col",{key:p.id,staticClass:"w3-border w3-border-green",class:{"w3-yellow":e.hovered},attrs:{title:e.fullName,as:"td",record:p}})})),e._v(" "),n("td",{staticClass:"w3-animate-zoom w3-border w3-border-green",class:{"w3-yellow":e.hovered,"w3-pale-blue":e.totalPerformaceScore>0},attrs:{title:e.fullName}},[e._v("\n    "+e._s(e.totalPerformaceScore)+"\n  ")]),e._v(" "),n("td",{staticClass:"w3-animate-zoom w3-border w3-border-green",class:{"w3-yellow":e.hovered,"w3-pale-blue":e.PS2>0},attrs:{title:e.fullName}},[e._v("\n    "+e._s(e.PS2)+"\n  ")]),e._v(" "),n("td",{staticClass:"w3-animate-zoom w3-border w3-border-green",class:{"w3-yellow":e.hovered,"w3-pale-blue":e.WS2>0},attrs:{title:e.fullName}},[e._v("\n    "+e._s(e.WS2)+"\n  ")]),e._v(" "),e.myExam?n("Col",{staticClass:"w3-border w3-border-purple",class:{"w3-yellow":e.hovered},attrs:{title:e.fullName,as:"td",record:e.myExam}}):e._e(),e._v(" "),n("td",{staticClass:"w3-animate-zoom w3-border w3-border-purple",class:{"w3-yellow":e.hovered,"w3-pale-blue":e.PS3>0},attrs:{title:e.fullName}},[e._v("\n    "+e._s(e.PS3)+"\n  ")]),e._v(" "),n("td",{staticClass:"w3-animate-zoom w3-border w3-border-purple",class:{"w3-yellow":e.hovered,"w3-pale-blue":e.WS3>0},attrs:{title:e.fullName}},[e._v("\n    "+e._s(e.WS3)+"\n  ")]),e._v(" "),n("td",{class:{"w3-yellow":e.hovered,"w3-pale-blue":e.initialGrade>0},attrs:{title:e.fullName}},[e._v("\n    "+e._s(e.initialGrade)+"\n  ")]),e._v(" "),n("td",{class:(t={"w3-yellow":e.hovered},t[e.qgColor]=!0,t)},[e._v("\n    "+e._s(e.quarterlyGrade)+"\n  ")])],2)}),[],!1,null,"08480e49",null).exports},data:function(){return{got:0,showEditingForm:!0,updating:!1,creatingWork:!1,updated:!1,deleting:!1,reallyDeleting:!1,pub:"",wName:"",wType:"",wScore:0}},computed:{sheet:function(){return this.$store.state.grading.currentSheet},allWorks:function(){return this.sheet.works},writtenWorks:function(){return this.allWorks.filter((function(t){return"a"===t.work_type||"q"===t.work_type}))},performances:function(){return this.allWorks.filter((function(t){return"p"===t.work_type}))},exam:function(){var t=this.allWorks.filter((function(t){return"e"===t.work_type}))[0];return t||{highest_score:0}},totalPerformancesScore:function(){var t=0;return this.performances.forEach((function(e){return t+=e.highest_score})),t},totalWrittenWorksScore:function(){var t=0;return this.writtenWorks.forEach((function(e){return t+=e.highest_score})),t},username:function(){return this.$store.state.user.user.user.username},role:function(){return this.$store.state.user.user.profile.role},section:function(){var t=this;return this.$store.state.information.sections.filter((function(e){return e.url===t.sheet.section}))[0].name},subject:function(){var t=this;return this.$store.state.information.subjects.filter((function(e){return e.url===t.sheet.subject}))[0].name},students:function(){var t=this;return this.$store.state.information.students.filter((function(s){return s.section===t.sheet.section}))},boys:function(){var t=this;return this.students.filter((function(s){return s.section===t.sheet.section&&"m"===s.gender})).sort((function(a,b){var t=(a.last_name+a.first_name).toLowerCase(),e=(b.last_name+b.first_name).toLowerCase();return t<e?-1:t>e?1:0}))},girls:function(){var t=this;return this.students.filter((function(s){return s.section===t.sheet.section&&"f"===s.gender})).sort((function(a,b){var t=(a.last_name+a.first_name).toLowerCase(),e=(b.last_name+b.first_name).toLowerCase();return t<e?-1:t>e?1:0}))}},watch:{showEditingForm:function(t){t&&(this.pub=this.sheet.publish)},creatingWork:function(t){t||(this.wName="",this.wType="",this.wScore="")}},methods:{createRecords:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.username===t.sheet.teacher.username){e.next=2;break}return e.abrupt("return");case 2:if(r=[],t.students.forEach((function(s){t.allWorks.forEach((function(e){if(!t.sheet.records.filter((function(t){return t.student===s.url&&t.work===e.url}))[0]){var n={gsheet:t.sheet.url,student:s.url,work:e.url,score:0};r.push(n)}}))})),0===r.length){e.next=7;break}return e.next=7,t.$store.dispatch("grading/createRecords",r);case 7:case"end":return e.stop()}}),e)})))()},deleteSheet:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.reallyDeleting=!0,e.next=3,t.$store.dispatch("grading/deleteSheet",t.sheet.url).finally((function(){return t.$router.push("/sheets")}));case 3:case"end":return e.stop()}}),e)})))()},createWork:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.creatingWork=!0,r={gsheet:t.sheet.url,name:t.wName,highest_score:t.wScore,work_type:t.wType},e.next=4,t.$store.dispatch("grading/createWork",r).then(Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.createRecords();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).finally((function(){return t.creatingWork=!1}));case 4:case"end":return e.stop()}}),e)})))()},updateSheet:function(){var t=this;this.updating=!0;var e={url:this.sheet.url,department:this.sheet.department,section:this.sheet.section,subject:this.sheet.subject,publish:this.pub};this.$store.dispatch("grading/updateSheet",e).then((function(){t.updated=!0,setTimeout((function(){return t.updated=!1}),5e3)})).finally((function(){return t.updating=!1}))}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("information/getDepartments").then((function(){return t.got++}));case 2:return e.next=4,t.$store.dispatch("information/getSections").then((function(){return t.got++}));case 4:return e.next=6,t.$store.dispatch("information/getSubjects").then((function(){return t.got++}));case 6:return e.next=8,t.$store.dispatch("information/getStudents").then((function(){return t.got++}));case 8:return e.next=10,t.$store.dispatch("grading/retrieveSheets",r).then((function(){return t.got++}));case 10:return r=t.$store.state.grading.sheets.filter((function(e){return e.id===parseInt(t.$route.params.id)}))[0].url,e.next=13,t.$store.dispatch("grading/retrieveSheet",r).then((function(){return t.got++}));case 13:t.createRecords();case 14:case"end":return e.stop()}}),e)})))()},validate:function(t){return/^\d+$/.test(t.params.id)}}),h=(r(265),Object(c.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.got<6?r("div",{staticClass:"loading"},[t._m(0)]):r("div",[r("header",{staticClass:"w3-center w3-pale-green"},[r("h1",[t._v("\n        Grading sheet of "+t._s(t.section)+" for\n        "+t._s(t.subject)+"\n      ")]),t._v(" "),r("p",[t._v(t._s(new Date(t.sheet.date).toDateString()))]),t._v(" "),t.sheet.teacher.username===t.username?r("p",[t._v("Prepared by: You")]):r("p",[t._v("\n        Prepared by: Teacher "+t._s(t.sheet.teacher.first_name)+"\n        "+t._s(t.sheet.teacher.last_name)+"\n      ")])]),t._v(" "),r("div",{attrs:{id:"sheet-cont"}},[r("table",{attrs:{id:"sheet"}},[r("tr",[r("th",{attrs:{rowspan:"2"}},[t._v("Learners' Names")]),t._v(" "),r("th",{staticClass:"w3-orange",attrs:{colspan:t.writtenWorks.length+3}},[t._v("Written Works (20%)")]),t._v(" "),r("th",{staticClass:"w3-green",attrs:{colspan:t.performances.length+3}},[t._v("Performance Tasks (60%)")]),t._v(" "),r("th",{staticClass:"w3-purple",attrs:{colspan:3}},[t._v("Quarterly Assessment Tasks (20%)")]),t._v(" "),r("th",{attrs:{rowspan:"3"}},[t._v("Initial Grade")]),t._v(" "),r("th",{attrs:{rowspan:"3"}},[t._v("Quarterly Grade")])]),t._v(" "),r("tr",[t._l(t.writtenWorks.length,(function(i){return r("th",{key:"ww"+i+Math.random(),staticClass:"w3-orange"},[t._v(t._s(i))])})),t._v(" "),r("th",{staticClass:"w3-orange"},[t._v("Total")]),t._v(" "),r("th",{staticClass:"w3-orange"},[t._v("PS")]),t._v(" "),r("th",{staticClass:"w3-orange"},[t._v("WS")]),t._v(" "),t._l(t.performances.length,(function(i){return r("th",{key:"pp"+i+Math.random(),staticClass:"w3-green"},[t._v(t._s(i))])})),t._v(" "),r("th",{staticClass:"w3-green"},[t._v("Total")]),t._v(" "),r("th",{staticClass:"w3-green"},[t._v("PS")]),t._v(" "),r("th",{staticClass:"w3-green"},[t._v("WS")]),t._v(" "),r("th",{staticClass:"w3-purple"},[t._v("1")]),t._v(" "),r("th",{staticClass:"w3-purple"},[t._v("PS")]),t._v(" "),r("th",{staticClass:"w3-purple"},[t._v("WS")])],2),t._v(" "),r("tr",[r("th",[t._v("Highest Possible Score")]),t._v(" "),t._l(t.writtenWorks,(function(e){return r("th",{key:e.url,staticClass:"w3-orange"},[t._v(t._s(e.highest_score))])})),t._v(" "),r("th",{staticClass:"w3-orange"},[t._v(t._s(t.totalWrittenWorksScore))]),t._v(" "),r("th",{staticClass:"w3-orange"},[t._v("100.00")]),t._v(" "),r("th",{staticClass:"w3-orange"},[t._v("20%")]),t._v(" "),t._l(t.performances,(function(p){return r("th",{key:p.url,staticClass:"w3-green"},[t._v(t._s(p.highest_score))])})),t._v(" "),r("th",{staticClass:"w3-green"},[t._v(t._s(t.totalPerformancesScore))]),t._v(" "),r("th",{staticClass:"w3-green"},[t._v("100.00")]),t._v(" "),r("th",{staticClass:"w3-green"},[t._v("60%")]),t._v(" "),r("th",{staticClass:"w3-purple"},[t._v(t._s(t.exam.highest_score))]),t._v(" "),r("th",{staticClass:"w3-purple"},[t._v("100.00")]),t._v(" "),r("th",{staticClass:"w3-purple"},[t._v("20%")])],2),t._v(" "),r("tr",[r("th",[t._v("Male")]),t._v(" "),t._l(t.writtenWorks.length,(function(i){return r("th",{key:"1w"+i+Math.random(),staticClass:"w3-orange"})})),t._v(" "),r("th",{staticClass:"w3-orange"}),t._v(" "),r("th",{staticClass:"w3-orange"}),t._v(" "),r("th",{staticClass:"w3-orange"}),t._v(" "),t._l(t.performances.length,(function(i){return r("th",{key:"1p"+i+Math.random(),staticClass:"w3-green"})})),t._v(" "),r("th",{staticClass:"w3-green"}),t._v(" "),r("th",{staticClass:"w3-green"}),t._v(" "),r("th",{staticClass:"w3-green"}),t._v(" "),r("th",{staticClass:"w3-purple"}),t._v(" "),r("th",{staticClass:"w3-purple"}),t._v(" "),r("th",{staticClass:"w3-purple"}),t._v(" "),r("th"),t._v(" "),r("th")],2),t._v(" "),t._l(t.boys,(function(b){return r("Row",{key:b.url,attrs:{as:"tr",topTotalActScore:t.totalWrittenWorksScore,topTotalPerfScore:t.totalPerformancesScore,student:b}})})),t._v(" "),r("tr",[r("th",[t._v("Female")]),t._v(" "),t._l(t.writtenWorks.length,(function(i){return r("th",{key:"2w"+i+Math.random()})})),t._v(" "),r("th"),t._v(" "),r("th"),t._v(" "),r("th"),t._v(" "),t._l(t.performances.length,(function(i){return r("th",{key:"2p"+i+Math.random()})})),t._v(" "),r("th"),t._v(" "),r("th"),t._v(" "),r("th"),t._v(" "),r("th"),t._v(" "),r("th"),t._v(" "),r("th"),t._v(" "),r("th"),t._v(" "),r("th")],2),t._v(" "),t._l(t.girls,(function(g){return r("Row",{key:g.url,attrs:{as:"tr",topTotalActScore:t.totalWrittenWorksScore,topTotalPerfScore:t.totalPerformancesScore,student:g}})}))],2)]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:"teacher"===t.role&&t.username===t.sheet.teacher.username,expression:"role === 'teacher' && username === sheet.teacher.username"}],attrs:{id:"controls"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.showEditingForm,expression:"showEditingForm"}],staticClass:"w3-animate-opacity",attrs:{id:"editing-modal"}},[r("div",{staticClass:"w3-animate-bottom w3-card-4"},[r("div",{staticClass:"form-inputs"},[t._m(1),t._v(" "),r("div",{staticClass:"scrolled"},[r("div",[r("form",{staticClass:"w3-animate-top",attrs:{id:"adding-form"},on:{submit:function(e){return e.preventDefault(),t.createWork(e)}}},[r("div",{staticClass:"inpt"},[r("label",[t._v("Work Name:")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.wName,expression:"wName"}],attrs:{required:"",type:"text",name:"wName",disabled:t.creatingWork},domProps:{value:t.wName},on:{input:function(e){e.target.composing||(t.wName=e.target.value)}}})]),t._v(" "),r("div",{staticClass:"inpt"},[r("label",[t._v("Work Type:")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.wType,expression:"wType"}],attrs:{name:"wType",disabled:t.creatingWork,required:""},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.wType=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"a"}},[t._v("Activity")]),t._v(" "),r("option",{attrs:{value:"q"}},[t._v("Quiz")]),t._v(" "),r("option",{attrs:{value:"e"}},[t._v("Examination")]),t._v(" "),r("option",{attrs:{value:"p"}},[t._v("Performance")])])]),t._v(" "),r("div",{staticClass:"inpt"},[r("label",[t._v("Highest Score:")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.wScore,expression:"wScore"}],attrs:{required:"",type:"number",name:"wScore",min:"1",disabled:t.creatingWork},domProps:{value:t.wScore},on:{input:function(e){e.target.composing||(t.wScore=e.target.value)}}})]),t._v(" "),r("button",{staticClass:"w3-button w3-light-green w3-small w3-round",attrs:{type:"submit",disabled:t.creatingWork}},[t.creatingWork?r("span",[r("i",{staticClass:"fas fa-spinner w3-spin"}),t._v(" Adding\n                      work...")]):r("span",[t._v("Add Work")])])]),t._v(" "),t.sheet.works?r("div",t._l(t.sheet.works,(function(t){return r("Work",{key:t.url,attrs:{work:t}})})),1):r("p",{staticClass:"w3-small w3-center"},[t._v("\n                  There are no works yet.\n                ")])]),t._v(" "),t._m(2),t._v(" "),t.deleting?r("div",{staticClass:"w3-center w3-khaki w3-padding w3-round w3-animate-zoom"},[t.reallyDeleting?r("div",[t._m(4)]):r("div",[t._m(3),t._v(" "),r("p",[t._v("You cannot bring back the records of this grading sheet once\n                    it's deleted, unless, of course, you start from the top. Are you sure you want to continue?")]),t._v(" "),r("hr"),t._v(" "),r("button",{staticClass:"w3-button w3-round w3-small w3-red",on:{click:t.deleteSheet}},[t._v("Yes. I understand.")]),t._v(" "),r("button",{staticClass:"w3-button w3-round w3-small w3-green w3-margin-top",on:{click:function(e){t.deleting=!1}}},[t._v("No! Take me back.")])])]):r("form",{on:{submit:function(e){return e.preventDefault(),t.updateSheet(e)}}},[r("div",{staticClass:"inpt"},[r("label",[t._v("Done:")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.pub,expression:"pub"}],attrs:{disabled:t.updating,required:""},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.pub=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"true"}},[t._v("Yes")]),t._v(" "),r("option",{attrs:{value:"false"}},[t._v("No")])])]),t._v(" "),r("p",{directives:[{name:"show",rawName:"v-show",value:t.updated,expression:"updated"}],staticClass:"w3-text-green w3-small w3-center"},[t._v("\n                  Updated!\n                ")]),t._v(" "),r("button",{staticClass:"w3-button w3-green w3-round w3-small",attrs:{type:"submit",disabled:t.updating}},[t.updating?r("span",[r("i",{staticClass:"fas fa-spinner w3-spin"}),t._v(" Updating...")]):r("span",[t._v("Update")])]),t._v(" "),r("button",{staticClass:"w3-button w3-red w3-round w3-small w3-margin-top",on:{click:function(e){t.deleting=!0}}},[t._v("Delete Grading Sheet")])])])]),t._v(" "),r("div",{staticClass:"form-bottom-btns"},[r("button",{staticClass:"w3-button w3-pink",on:{click:function(e){t.showEditingForm=!1}}},[r("i",{staticClass:"fas fa-times-circle"}),t._v(" Close\n            ")])])])]),t._v(" "),r("button",{directives:[{name:"show",rawName:"v-show",value:!t.showEditingForm,expression:"!showEditingForm"}],staticClass:"w3-green w3-button w3-animate-zoom w3-card-4",attrs:{id:"edit-sheet-btn"},on:{click:function(e){t.showEditingForm=!0}}},[r("i",{staticClass:"fas fa-pencil-alt"}),t._v(" Add Works\n      ")])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{staticClass:"w3-text-white w3-center"},[e("i",{staticClass:"fas fa-spinner w3-spin"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h3",[e("i",{staticClass:"fas fa-pencil-alt"}),this._v(" Works\n              ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"or"},[e("hr"),this._v(" "),e("span",[this._v("Or")]),this._v(" "),e("hr")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",[e("i",{staticClass:"fas fa-exclamation-circle w3-text-red"}),this._v(" Warning!")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{staticClass:"w3-text-yellow"},[e("i",{staticClass:"fas fa-spinner w3-spin"})])}],!1,null,"5d3f1e83",null));e.default=h.exports}}]);