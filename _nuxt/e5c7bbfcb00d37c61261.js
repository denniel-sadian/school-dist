(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{202:function(e,t,n){var content=n(230);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(17).default)("3c0cbb37",content,!0,{sourceMap:!1})},203:function(e,t,n){var content=n(232);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(17).default)("02898f2e",content,!0,{sourceMap:!1})},229:function(e,t,n){"use strict";var r=n(202);n.n(r).a},230:function(e,t,n){(t=n(16)(!1)).push([e.i,".cont[data-v-498b4f46]{padding:2px 16px;border:1px solid #000;border-radius:4px;margin:30px 0}h3[data-v-498b4f46]{font-weight:800}.btn[data-v-498b4f46]{display:flex;justify-content:flex-end;border-top:1px solid #9e9e9e;padding-top:2px}.btn button[data-v-498b4f46]{width:34px;height:34px;display:flex;justify-content:center;align-items:center;border-radius:100%;margin-left:16px}.w3-button[data-v-498b4f46]{width:100%;margin:3px 0}",""]),e.exports=t},231:function(e,t,n){"use strict";var r=n(203);n.n(r).a},232:function(e,t,n){(t=n(16)(!1)).push([e.i,"header[data-v-015f951e]{margin-top:53px;padding:64px 0!important;text-align:center}header h1[data-v-015f951e]{text-transform:capitalize}.w3-content[data-v-015f951e]{max-width:600px}form[data-v-015f951e]{padding:16px;border-radius:4px;border:1px solid #000}.w3-button[data-v-015f951e]{width:100%}article[data-v-015f951e]{margin:20px 0}",""]),e.exports=t},270:function(e,t,n){"use strict";n.r(t);n(10),n(11),n(18);var r=n(2),o={props:{sec:Object,deps:Array,role:String},data:function(){return{editing:!1,updating:!1,deleting:!1,error:!1,errorDelete:!1,hide:!1,name:"",dep:""}},methods:{edit:function(){this.editing=!0,this.name=this.sec.name,this.dep=this.sec.department},deleteSec:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.deleting=!0,t.next=3,e.$store.dispatch("information/deleteSec",e.sec.url).then((function(){e.hide=!0})).catch((function(){e.errorDelete=!0,setTimeout((function(){e.errorDelete=!1}),1e4)})).finally((function(){e.deleting=!1}));case 3:case"end":return t.stop()}}),t)})))()},update:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.updating=!0,e.error=!1,n={url:e.sec.url,name:e.name,department:e.dep},t.next=5,e.$store.dispatch("information/putSec",n).then((function(){e.editing=!1})).catch((function(){e.error=!0,setTimeout((function(){e.error=!1}),1e4)})).finally((function(){e.updating=!1}));case 5:case"end":return t.stop()}}),t)})))()}}},c=(n(229),n(19)),d={components:{Section:Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:!e.hide,expression:"!hide"}],staticClass:"cont",class:{"w3-opacity":e.deleting}},[e.editing?n("form",{on:{submit:function(t){return t.preventDefault(),e.update(t)}}},[n("div",{staticClass:"inpt"},[n("label",[e._v("Section Name:")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",required:"",disabled:e.updating},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"inpt"},[n("label",[e._v("Department:")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.dep,expression:"dep"}],attrs:{required:"",disabled:e.updating},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.dep=t.target.multiple?n:n[0]}}},e._l(e.deps,(function(t){return n("option",{key:t.id,domProps:{value:t.url}},[e._v(e._s(t.name))])})),0)]),e._v(" "),n("hr"),e._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],staticClass:"w3-small w3-text-red w3-center"},[e._v("\n      Please provide a unique section name.\n    ")]),e._v(" "),n("button",{staticClass:"w3-button w3-light-green w3-round w3-small w3",attrs:{type:"submit",disabled:e.updating}},[e.updating?n("span",[n("i",{staticClass:"fas fa-spinner w3-spin"}),e._v(" Updating...")]):n("span",[e._v("Update this Section")])]),e._v(" "),n("button",{staticClass:"w3-pink w3-round w3-button w3-small",attrs:{disabled:e.updating},on:{click:function(t){e.editing=!1}}},[e._v("\n      Cancel\n    ")])]):n("div",{staticClass:"display"},[n("h3",[n("i",{staticClass:"fas fa-building"}),e._v(" "+e._s(e.sec.name))]),e._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:e.errorDelete,expression:"errorDelete"}],staticClass:"w3-center w3-small w3-text-red"},[e._v("\n      You cannot delete this section right now because some objects like\n      grading sheets are in this section.\n    ")]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"admin"===e.role,expression:"role === 'admin'"}],staticClass:"btn"},[n("button",{staticClass:"w3-button w3-round w3-small w3-border w3-border-black",attrs:{disabled:e.deleting},on:{click:e.edit}},[n("i",{staticClass:"fas fa-pencil-alt"})]),e._v(" "),n("button",{staticClass:"w3-button w3-text-red w3-round w3-small w3-border w3-border-red",attrs:{disabled:e.deleting},on:{click:e.deleteSec}},[e.deleting?n("i",{staticClass:"fas fa-spinner w3-spin"}):n("i",{staticClass:"fas fa-trash-alt"})])])])])}),[],!1,null,"498b4f46",null).exports},data:function(){return{got:0,creating:!1,error:!1,name:"",dep:""}},computed:{departments:function(){return this.$store.state.information.departments},sections:function(){return this.$store.state.information.sections},role:function(){return this.$store.state.user.user.profile.role}},methods:{createSection:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.creating=!0,e.error=!1,n={name:e.name,department:e.dep},t.next=5,e.$store.dispatch("information/postSec",n).then((function(){e.name="",e.dep="",e.error=!1})).catch((function(){e.error=!0,setTimeout((function(){e.error=!1}),1e4)})).finally((function(){e.creating=!1}));case 5:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("information/getDepartments").then((function(){return e.got++}));case 2:return t.next=4,e.$store.dispatch("information/getSections").then((function(){return e.got++}));case 4:case"end":return t.stop()}}),t)})))()}},l=(n(231),Object(c.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),e._v(" "),e.got<2?n("div",[e._m(1)]):n("div",[n("article",{directives:[{name:"show",rawName:"v-show",value:"admin"===e.role,expression:"role === 'admin'"}],staticClass:"w3-container"},[n("form",{staticClass:"w3-content",on:{submit:function(t){return t.preventDefault(),e.createSection(t)}}},[e._m(2),e._v(" "),n("div",{staticClass:"inpt"},[n("label",[e._v("Section Name:")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",required:"",disabled:e.creating},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"inpt"},[n("label",[e._v("Department:")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.dep,expression:"dep"}],attrs:{required:""},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.dep=t.target.multiple?n:n[0]}}},e._l(e.departments,(function(t){return n("option",{key:t.id,domProps:{value:t.url}},[e._v(e._s(t.name))])})),0)]),e._v(" "),n("hr"),e._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],staticClass:"w3-center w3-text-red w3-small"},[e._v("\n          Please provide a unique name.\n        ")]),e._v(" "),n("button",{staticClass:"w3-button w3-green w3-round",attrs:{type:"submit",disabled:e.creating}},[e.creating?n("span",[n("i",{staticClass:"fas fa-spinner w3-spin"}),e._v(" Adding...")]):n("span",[e._v("Add This Section")])])])]),e._v(" "),n("article",{staticClass:"w3-container"},[n("div",{staticClass:"w3-content"},[0===e.sections.length?n("div",{staticClass:"w3-center"},[n("h4",[e._v("There is no section yet.")])]):n("div",[n("h2",{staticClass:"w3-center"},[e._v("List of Sections")]),e._v(" "),e._l(e.sections,(function(t){return n("Section",{key:t.id,attrs:{sec:t,deps:e.departments,role:e.role}})}))],2)])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("header",{staticClass:"w3-container"},[t("div",{staticClass:"w3-content w3-padding w3-center"},[t("h1",[this._v("The Sections")]),this._v(" "),t("p",[this._v("\n        Both teachers and admins can view this page, but only the admins can\n        modify the sections. If you are an admin, please refrain from deleting\n        sections, especially if some objects are using them.\n      ")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"w3-large w3-text-green w3-center"},[t("i",{staticClass:"fas fa-spinner w3-spin"}),this._v(" Loading...\n    ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",[t("i",{staticClass:"fas fa-plus-circle"}),this._v(" Add a Section")])}],!1,null,"015f951e",null));t.default=l.exports}}]);